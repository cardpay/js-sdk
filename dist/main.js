!function(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(self,()=>(()=>{"use strict";var Environment,Form,Environment1,Form1,__webpack_require__={};__webpack_require__.d=(exports1,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports1,key)&&Object.defineProperty(exports1,key,{enumerable:!0,get:definition[key]})},__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports1=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports1,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports1,"__esModule",{value:!0})};var __webpack_exports__={};__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CardFormSettings:()=>card_form_settings_namespaceObject.CardFormSettings,CardSavingFormSettings:()=>card_saving_settings_namespaceObject.CardSavingFormSettings,PayFormSettings:()=>pay_form_settings_namespaceObject.PayFormSettings,PayTokenFormSettings:()=>pay_token_form_settings_namespaceObject.PayTokenFormSettings,default:()=>main,iframeExist:()=>iframeExist,loadJsSdk:()=>loadJsSdk});var card_form_settings_namespaceObject={};__webpack_require__.r(card_form_settings_namespaceObject);var card_saving_settings_namespaceObject={};__webpack_require__.r(card_saving_settings_namespaceObject);var pay_form_settings_namespaceObject={};__webpack_require__.r(pay_form_settings_namespaceObject);var pay_token_form_settings_namespaceObject={};function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self1=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self1,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}__webpack_require__.r(pay_token_form_settings_namespaceObject),(Environment=Environment1||(Environment1={})).Sandbox="sandbox",Environment.Production="production",(Form=Form1||(Form1={})).Card="card",Form.CardSaving="card-saving",Form.Pay="pay",Form.Token="pay-token";let URLS={[Form1.Card]:"card-form",[Form1.CardSaving]:"card-saving-form",[Form1.Pay]:"pay-form",[Form1.Token]:"pay-by-saved-card-form"},BASE_URL={[Environment1.Sandbox]:"https://sandbox.cardpay.com",[Environment1.Production]:"https://cardpay.com"};function destroyJsSdk(element,iframe,loadListener,windowMessageListener){return _destroyJsSdk.apply(this,arguments)}function _destroyJsSdk(){return(_destroyJsSdk=_async_to_generator(function*(element,iframe,loadListener,windowMessageListener){element.removeChild(iframe),iframe.removeEventListener("load",loadListener),windowMessageListener&&window.removeEventListener("message",windowMessageListener)})).apply(this,arguments)}function iframeExist(id){return null!==document.getElementById(id)}function loadJsSdk(settings){return _loadJsSdk.apply(this,arguments)}function _loadJsSdk(){return(_loadJsSdk=_async_to_generator(function*(settings){var _settings_environment;if(iframeExist("unlimit-js-sdk"))throw Error('[ERROR]: Cannot call the function twice, please use the "destroy" function and then call it again');let environment=null!=(_settings_environment=settings.environment)?_settings_environment:Environment1.Production,{props,callback,element}=settings,iframe=document.createElement("iframe"),baseUrl=BASE_URL[environment],url=URLS[settings.form],src=`${baseUrl}/js-sdk-frame/#/${url}`;iframe.setAttribute("id","unlimit-js-sdk"),iframe.setAttribute("src",src),element.appendChild(iframe);let loadListener=()=>{if(null===iframe.contentWindow)throw Error("[ERROR]: Not possible to embed the js sdk, contentWindow is null");iframe.contentWindow.postMessage({props},"*")};iframe.addEventListener("load",loadListener);let submit=()=>{var _iframe_contentWindow;null==(_iframe_contentWindow=iframe.contentWindow)||_iframe_contentWindow.postMessage({submit:!0},"*")};if(callback){let windowMessageListener=event=>{event.source===iframe.contentWindow&&callback(event.data)};return window.addEventListener("message",windowMessageListener),{destroy:()=>destroyJsSdk(element,iframe,loadListener,windowMessageListener),submit}}return{destroy:()=>destroyJsSdk(element,iframe,loadListener),submit}})).apply(this,arguments)}window.loadJsSdk=loadJsSdk;let main=loadJsSdk;return __webpack_exports__.default})());